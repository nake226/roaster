(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(n,t,e){n.exports=e(54)},54:function(n,t,e){"use strict";e.r(t);var a=e(0),r=e.n(a),o=e(4),i=e.n(o),c=e(16),s=e(17),u=e(22),l=e(18),p=e(23),m=e(1),h=e(19),d=e.n(h),f=e(2);function g(){var n=Object(m.a)(["\n  text-align: center;\n  padding: 4px 0;\n  letter-spacing: 1px;\n"]);return g=function(){return n},n}function x(){var n=Object(m.a)(["\n  width: 100%;\n  object-fit: cover;\n  height: 100%;\n"]);return x=function(){return n},n}function v(){var n=Object(m.a)(["\n  width: 200px;\n  height: 200px;\n"]);return v=function(){return n},n}function b(){var n=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 200px;\n  margin: 10px 5px 0;\n  border: solid 1px #ccc;\n  border-radius: 3px;\n  transform: scale(1);\n  transition: 0.3s ease-out;\n  &:hover {\n    transform: scale(1.02);\n    transition: 0.3s ease-out;\n  }\n"]);return b=function(){return n},n}function k(){var n=Object(m.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  width: 100%;\n  max-width: 1080px;\n  margin: 20px auto 0;\n"]);return k=function(){return n},n}var w=f.a.ul(k()),_=f.a.li(b()),y=f.a.div(v()),E=f.a.img(x()),j=f.a.p(g()),N=function(n){return r.a.createElement(w,{className:"roster"},n.group.item_list.map(function(n,t){return r.a.createElement(_,{key:t},r.a.createElement(y,null,r.a.createElement(E,{src:n.photo_url,alt:"aaa"})),r.a.createElement(j,null,n.user_name))}))};function C(){var n=Object(m.a)(["\n  cursor: pointer;\n  display: inline-block;\n  outline: 0;\n  border: none;\n  background-color: #f61;\n  padding: 8px 18px;\n  color: #fff;\n  margin: 0 0 0 8px;\n  text-transform: none;\n  text-shadow: none;\n  font-weight: 700;\n  line-height: 1em;\n  text-align: center;\n  border-radius: 0.28571429rem;\n  font-size: 14px;\n  letter-spacing: 1px;\n"]);return C=function(){return n},n}function O(){var n=Object(m.a)(['\n  height: 26px;\n  width: 160px;\n  font-family: Lato, "Helvetica Neue", Arial, Helvetica, sans-serif;\n  margin: 0;\n  outline: 0;\n  -webkit-appearance: none;\n  padding: 2px 8px;\n  font-size: 13px;\n  background: #fff;\n  border: 1px solid rgba(34, 36, 38, 0.15);\n  color: rgba(0, 0, 0, 0.87);\n  border-radius: 0.28571429rem;\n  box-shadow: 0 0 0 0 transparent inset;\n  -webkit-transition: color 0.1s ease, border-color 0.1s ease;\n  transition: color 0.1s ease, border-color 0.1s ease;\n']);return O=function(){return n},n}function D(){var n=Object(m.a)(["\n  margin: 24px auto 0;\n  max-width: 1050px;\n"]);return D=function(){return n},n}var R=f.a.div(D()),S=f.a.input(O()),H=f.a.div(C()),P=function(n){return r.a.createElement(R,{className:"searchForm"},r.a.createElement("label",null,r.a.createElement(S,{type:"text",onChange:function(t){return n.setQuery(t)},placeholder:"#\u30ad\u30fc\u30ef\u30fc\u30c9\u691c\u7d22"})),r.a.createElement(H,{onClick:function(t){return n.getWordSearchResult(n.inputText)}},"\u691c\u7d22"))};function A(){var n=Object(m.a)(['\n  font-size: 20px;\n  letter-spacing: 1px;\n  font-weight: bold;\n  position: relative;\n  &::after {\n    display: block;\n    content: "";\n    background: url(https://nijibox.jp/wp-content/themes/nijibox/images/common/logo_nb.svg?1446464915)\n      no-repeat;\n    background-size: cover;\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    margin: auto;\n    width: 25px;\n    height: 35px;\n    left: -35px;\n    right: auto;\n    top: 0px;\n  }\n']);return A=function(){return n},n}function L(){var n=Object(m.a)(["\n  max-width: 980px;\n  margin: auto;\n"]);return L=function(){return n},n}function z(){var n=Object(m.a)(["\n  width: 100%;\n  height: 64px;\n  line-height: 64px;\n  text-align: left;\n  background: #fff;\n  box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.08);\n  position: fixed;\n  top: 0;\n  z-index: 999;\n"]);return z=function(){return n},n}var M=f.a.header(z()),Q=f.a.div(L()),T=f.a.span(A()),W=function(n){return r.a.createElement(M,null,r.a.createElement(Q,null,r.a.createElement(T,null,"Niji Roster")))};function I(){var n=Object(m.a)(["\n  margin: 0 8px;\n  font-size: 14px;\n  color: #333;\n  &:hover {\n    cursor: pointer;\n  }\n"]);return I=function(){return n},n}function U(){var n=Object(m.a)(["\n  display: flex;\n  margin: 90px auto 0;\n  justify-content: center;\n"]);return U=function(){return n},n}var F=f.a.ul(U()),G=f.a.li(I()),J=function(n){return r.a.createElement(F,{className:"departmentNav"},r.a.createElement(G,{className:"departmentNav__item",onClick:function(t){return n.loadDepartments(1)}},"#\u30cb\u30b8\u30dc\u30c3\u30af\u30b9"),r.a.createElement(G,{className:"departmentNav__item",onClick:function(t){return n.loadDepartments(2)}},"#MP\u4e8b\u696d\u90e8"),r.a.createElement(G,{className:"departmentNav__item",onClick:function(t){return n.loadDepartments(3)}},"#OS\u4e8b\u696d\u90e8"),r.a.createElement(G,{className:"departmentNav__item",onClick:function(t){return n.loadDepartments(4)}},"#\u958b\u767a\u5ba4"),r.a.createElement(G,{className:"departmentNav__item",onClick:function(t){return n.loadDepartments(5)}},"#\u30af\u30ea\u30a8\u30a4\u30c6\u30a3\u30d6\u5ba4"),r.a.createElement(G,{className:"departmentNav__item",onClick:function(t){return n.loadDepartments(6)}},"#QA\u30b0\u30eb\u30fc\u30d7"),r.a.createElement(G,{className:"departmentNav__item",onClick:function(t){return n.loadDepartments(7)}},"#\u7d4c\u55b6\u4f01\u753b\u5ba4"),r.a.createElement(G,{className:"departmentNav__item",onClick:function(t){return n.loadDepartments(8)}},"#UI/UX\u5236\u4f5c\u5ba4"))};function Y(){var n=Object(m.a)(['\n  font-family: YakuHanJPsLight, proxima-nova, -apple-system, BlinkMacSystemFont,\n    "Avenir Next", Avenir, "Yu Gothic Medium", "\u6e38\u30b4\u30b7\u30c3\u30af Medium", YuGothic,\n    \u6e38\u30b4\u30b7\u30c3\u30af\u4f53, "\u30d2\u30e9\u30ae\u30ce\u89d2\u30b4 ProN W3", "Hiragino Kaku Gothic ProN", \u30e1\u30a4\u30ea\u30aa,\n    Meiryo, sans-serif;\n  margin: 0 auto;\n']);return Y=function(){return n},n}var B=[],q=f.a.div(Y()),K=function(n){function t(n){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this,n))).state={inputText:"",isLogin:!1,departmentList:[],user:null,group:null},e}return Object(p.a)(t,n),Object(s.a)(t,[{key:"componentDidMount",value:function(){var n=this;this.httpClient=d.a.create({baseURL:"https://kadou.i.nijibox.net/api",withCredentials:!0}),this.loadAuth().then(function(){return n.state.isLogin?n.loadDepartments(5):Promise.resolve()}).catch(function(n){alert("API\u304c\u30a8\u30e9\u30fc\u3092\u8fd4\u3057\u307e\u3057\u305f\n\n"+n)})}},{key:"loadAuth",value:function(){var n=this;return this.httpClient.get("/auth",{params:{callback:"http://localhost:3000"}}).then(this.commonResponseHandling).then(function(t){t.is_login?n.setState({isLogin:!0}):t.auth_url&&(window.location.href=t.auth_url)})}},{key:"loadDepartments",value:function(){var n=this;return this.httpClient.get("/who/departments").then(this.commonResponseHandling).then(function(t){n.setState({departmentList:t})})}},{key:"loadUser",value:function(){var n=this;return this.httpClient.get("/who/user/1").then(this.commonResponseHandling).then(function(t){n.setState({user:t})})}},{key:"loadDepartments",value:function(n){var t=this;return this.httpClient.get("/who/search?department_id=".concat(n)).then(this.commonResponseHandling).then(function(e){B=e,20===e.item_list.length?t.httpClient.get("/who/search?department_id=".concat(n,"&page=2")).then(t.commonResponseHandling).then(function(e){B.item_list=B.item_list.concat(e.item_list),20===e.item_list.length?t.httpClient.get("/who/search?department_id=".concat(n,"&page=3")).then(t.commonResponseHandling).then(function(n){B.item_list=B.item_list.concat(n.item_list),20!==n.item_list.length?(console.log("\uff13\u56de\u3067\u53d6\u5f97\u5b8c\u4e86"),t.setState({group:B})):console("\u30af\u30ea\u30a8\u30a4\u30c6\u30a3\u30d6\u5ba4\u305d\u3093\u306a\u306b\u5897\u3048\u305f\u306e\uff1f")}):(console.log("\uff12\u56de\u3067\u53d6\u5f97\u5b8c\u4e86"),t.setState({group:B}))}):(console.log("\uff11\u56de\u3067\u53d6\u5f97\u5b8c\u4e86"),t.setState({group:B}))})}},{key:"setQuery",value:function(n){this.setState({inputText:n.target.value})}},{key:"getWordSearchResult",value:function(n){var t=this;return this.httpClient.get("/who/search/",{params:{query:n}}).then(this.commonResponseHandling).then(function(n){t.setState({group:n})})}},{key:"commonResponseHandling",value:function(n){return"200"!==n.data.code?(console.error(n.data.data),Promise.reject("API Error:"+n.data.data.message)):Promise.resolve(n.data.data)}},{key:"render",value:function(){var n=this;return r.a.createElement(q,null,r.a.createElement(W,null),r.a.createElement(J,{loadDepartments:function(t){return n.loadDepartments(t)}}),r.a.createElement(P,{className:"searchForm",setQuery:function(t){return n.setQuery(t)},getWordSearchResult:function(t){return n.getWordSearchResult(t)},inputText:this.state.inputText}),this.state.group&&r.a.createElement(N,{group:this.state.group}))}}]),t}(a.Component);i.a.render(r.a.createElement(K,null),document.getElementById("root"))}},[[25,2,1]]]);
//# sourceMappingURL=main.a5dc5680.chunk.js.map